
Telegram-–±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel-—Ñ–∞–π–ª–æ–≤ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL. 
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î –∏ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `main.py` –∏–ª–∏ `manage.py`.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
telegram_data_bot/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îú‚îÄ‚îÄ create_tables.py
‚îÇ   ‚îú‚îÄ‚îÄ db_utils.py
‚îÇ   ‚îú‚îÄ‚îÄ models.py
‚îÇ   ‚îî‚îÄ‚îÄ database.py
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ data.xlsx               # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –æ —Ç–æ–≤–∞—Ä–∞—Ö
‚îÇ   ‚îú‚îÄ‚îÄ city_regions.xlsx       # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≥–æ—Ä–æ–¥ ‚Üí —Ä–µ–≥–∏–æ–Ω, –æ–∫—Ä—É–≥
‚îÇ   ‚îî‚îÄ‚îÄ store_addresses.xlsx    # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–¥ –º–∞–≥–∞–∑–∏–Ω–∞ ‚Üí –∞–¥—Ä–µ—Å
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ manage.py
‚îú‚îÄ‚îÄ .env
‚îî‚îÄ‚îÄ requirements.txt


## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

   python -m venv venv
   venv\Scripts\activate

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   pip install -r requirements.txt

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env`:
   BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
   DATABASE_URL=postgresql://postgres:password@localhost:5432/–≤–∞—à–∞_–±–¥

## üììÔ∏è –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü:
python db/create_tables.py

### –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤—Ä—É—á–Ω—É—é:
python db/db_utils.py


## ü§ñ –ó–∞–ø—É—Å–∫ Telegram-–±–æ—Ç–∞
### –ß–µ—Ä–µ–∑ `main.py`:

* –û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:
  python main.py

* –¢–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:
  python main.py update

* –¢–æ–ª—å–∫–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:
  python main.py runbot

### –ß–µ—Ä–µ–∑ `manage.py` (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞):
* –û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
  python manage.py update

* –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:
  python manage.py run

* –û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å:
  python manage.py all


| –ö–æ–º–∞–Ω–¥–∞ –ë–î                    | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                              |
| --------------------------- | --------------------------------------- |
| `python manage.py updatedb` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü   |
| `python manage.py createdb` | –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã                  |
| `python manage.py resetdb`  | –£–¥–∞–ª–∏—Ç—å, —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã, –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å |
| `python manage.py testdb`   | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö      |




## ‚úÖ –ó–∞–¥–∞—á–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞—Ç—å Telegram-–±–æ—Ç–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –±–∞–∑–µ PostgreSQL, –∫–æ—Ç–æ—Ä—ã–π:

* –ò—â–µ—Ç —Ç–æ–≤–∞—Ä—ã –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –∞—Ä—Ç–∏–∫—É–ª—É;
* –§–∏–ª—å—Ç—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º, –≥–æ—Ä–æ–¥–∞–º –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º;
* –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Excel-—Ñ–∞–π–ª–æ–≤;
* –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã;

–†–∞–±–æ—Ç–∞ –≤–µ–¥—ë—Ç—Å—è –ø–æ—ç—Ç–∞–ø–Ω–æ, –Ω–∞ –û–° **Windows**, –≤ **VS Code**.

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Excel-—Ç–∞–±–ª–∏—Ü

### `data.xlsx` ‚Äì –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞:

* –°–æ–¥–µ—Ä–∂–∏—Ç –¥–∏–Ω–∞–º–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–≤–∞—Ä–∞—Ö;
* –ö–æ–ª–æ–Ω–∫–∞ `–ö–æ–¥ –º–∞–≥–∞–∑–∏–Ω–∞` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–≤—è–∑–∏ —Å –∞–¥—Ä–µ—Å–∞–º–∏.

### `store_addresses.xlsx` ‚Äì —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤:

* –°–≤—è–∑—ã–≤–∞–µ—Ç `–ö–æ–¥ –º–∞–≥–∞–∑–∏–Ω–∞` —Å `–ì–æ—Ä–æ–¥–æ–º` –∏ `–ê–¥—Ä–µ—Å–æ–º`.

### `city_regions.xlsx` ‚Äì —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ª–æ–∫–∞—Ü–∏–π:

* –°–≤—è–∑—ã–≤–∞–µ—Ç `–ì–æ—Ä–æ–¥` —Å `–†–µ–≥–∏–æ–Ω–æ–º` –∏ `–û–∫—Ä—É–≥–æ–º`.

---

## üìÅ –õ–æ–≥–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

* –¢–∞–±–ª–∏—Ü—ã `Region`, `Store`, `SaleData` —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π;
* –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ:

  * –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ä–µ–≥–∏–æ–Ω—ã (–ø–æ –≥–æ—Ä–æ–¥–∞–º);
  * –ó–∞—Ç–µ–º –º–∞–≥–∞–∑–∏–Ω—ã (–ø–æ –∫–æ–¥—É –º–∞–≥–∞–∑–∏–Ω–∞ ‚Üí –≥–æ—Ä–æ–¥ ‚Üí —Ä–µ–≥–∏–æ–Ω);
  * –ü–æ—Å–ª–µ ‚Äî –ø—Ä–æ–¥–∞–∂–∏ (—Å–≤—è–∑–∞–Ω—ã —Å –º–∞–≥–∞–∑–∏–Ω–æ–º –∏ —Ä–µ–≥–∏–æ–Ω–æ–º);
* –ò–º–ø–æ—Ä—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–º–∞–Ω–¥—ã `update`.
